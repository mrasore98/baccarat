<!doctype html>
<html lang="en">

<head>
        <title>Tutorial 1 - Approximating Pi - Baccarat</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../../assets/img/favicon.ico">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">Baccarat</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href="../.."
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Home
                </a>
            </li>
            <li class="drac-box">
                <a href="../../quickstart/"
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Quick Start
                </a>
            </li>
            <li class="drac-box">
                <a href="../.."
                    class=" active 
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#tutorials-collapse" aria-expanded="false">
                    Tutorials
                </a>
                <div class="collapse" id="tutorials-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="./"
            class=" active 
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Tutorial 1 - Approximating Pi
        </a>
    </li>
                    </ul>
                </div>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
        <div class="container">
            <div class="row row-preview">
                <div class="col">
                    <a href="../../quickstart/"
                        class="btn-preview drac-btn drac-btn-outline drac-text-white drac-text-cyan-green--hover">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </div>
                <div class="col">
                    <a 
                        class="btn-preview drac-btn drac-text-white--hover disabled" style="padding-left: 3%;">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="tutorial-1-approximating-pi">Tutorial 1 - Approximating Pi</h1>
<h2 id="introduction">Introduction</h2>
<p>This tutorial will guide you through the process of approximating the value of pi using a Monte Carlo simulation with the help of the <code>baccarat</code> library.</p>
<p>The approximation we use is based on the ratio of the area of a circle to the area of a square that circumscribes it. 
If we generate random points within the square and count how many fall inside the circle, we can estimate the ratio of the areas and thus the value of pi!</p>
<h2 id="step-1-create-a-simulator">Step 1: Create a Simulator</h2>
<p>To begin, import the <code>Simulator</code> class from the <code>baccarat</code> module.</p>
<pre><code class="language-python">from baccarat import Simulator
</code></pre>
<p>The <code>Simulator</code> class is an abstract base class that provides the logic for running your Monte Carlo simulation. There are three primary methods that you need to know,
but only one is an abstract method that you need to implement in your own simulator. </p>
<p>The important methods are:</p>
<ul>
<li><code>simulation</code> (abstract)</li>
<li><code>compile_results</code></li>
<li><code>run</code></li>
</ul>
<p>More details about these methods will follow as we complete the tutorial.</p>
<h2 id="step-3-implement-the-simulator">Step 3: Implement the Simulator</h2>
<p>Since <code>Simulator</code> is an abstract base class, you need to create a subclass that inherits from <code>Simulator</code> where you will provide the implementation
for the abstract method <code>simulation</code>. Let's call this class <code>PiSimulator</code>. When defining the class, we'll also define the parameters used in the simulation.</p>
<p>To define the parameters, we'll add class attributes that are concrete instances of the the <code>Param</code> class. 
These concrete instances are actually decorators that also define a custom <code>generate</code> method. 
Accessing a parameter attribute on <code>PiSimulator</code> will return the value of that parameter's <code>generate</code> method. 
Since this will typically be a random value, it is recommended to <em>assign values at the beginning of the <code>simulation</code> method</em>.</p>
<pre><code class="language-python">from baccarat import Simulator

class PiSimulator(Simulator):
    radius = 1  # Not a parameter
    x = UniformParam(-radius, radius)
    y = UniformParam(-radius, radius)
    # This is a parameter, but could also be a constant value
    r = StaticParam(radius)

    def simulation(self):
        &quot;&quot;&quot;This is where we implement the logic for a single iteration of the simulation.&quot;&quot;&quot;
        # Get values from the parameters of the simulator
        x, y, r = self.x, self.y, self.r
        # Check if point falls inside the circle
        return x**2 + y**2 &lt;= r**2

</code></pre>
<p>The return value of the <code>simulation</code> method is appended to a list: <code>PiSimulator.results</code>. By default, this list is returned when the simulation completes,
at the end of the <code>run</code> method.</p>
<h2 id="step-4-implementing-the-compile_results-method">Step 4: Implementing the <code>compile_results</code> Method</h2>
<p>Returning a list of results is all well and good, but if we're using the simulation to approximate pi, it seems like this would fall short of our goal 
and leave us with more work to do! Luckily, we can specify a custom implementation of the <code>compile_results</code> method to do some postprocessing to modify 
the return value appropriately.</p>
<pre><code class="language-python">from baccarat import Simulator, UniformParam, StaticParam

class PiSimulator(Simulator):
    radius = 1  # Not a parameter
    x = UniformParam(-radius, radius)
    y = UniformParam(-radius, radius)
    # This is a parameter, but could also be a constant value
    r = StaticParam(radius)

    def simulation(self):
        &quot;&quot;&quot;This is where we implement the logic for a single iteration of the simulation.&quot;&quot;&quot;
        # Get values from the parameters of the simulator
        x, y, r = self.x, self.y, self.r
        # Check if point falls inside the circle
        return x**2 + y**2 &lt;= r**2

    def compile_results(self):
        &quot;&quot;&quot;Do work on the collection of simulation results to compute the approximation of pi.&quot;&quot;&quot;
            # Apply the formula to compare the number of points inside the circle to the total number of points 
            # and return the approximation of pi
            # Pi = 4 * A_circle / A_square
            return 4 * len([res for res in self.results if res]) / len(self.results)

if __name__ == &quot;__main__&quot;:
    num_sims = 1_000_000
    simulator = PiSimulator(num_sims)
    result = simulator.run()  # Will now return an approximation of pi!
    print(result)
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>In a handful of lines of code, we have a complete implementation of a Monte Carlo simulation to approximate the value of pi!
The <code>baccarat</code> interface allowed us to separate the concerns of simulation logic and postprocessing and build our simulation incrementally.</p></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '../..';</script>
        <script src="../../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../../assets/js/mkdocs.js"></script>
			<script src="../../search/main.js" defer></script>

</body>

</html>